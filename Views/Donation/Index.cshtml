@model IEnumerable<PatiYuva.Models.Animal>

@{
    ViewData["Title"] = "BaÄŸÄ±ÅŸlar";
}

<div class="container mt-4">
    <h2 class="mb-4">ğŸ¾ Hayvanlara BaÄŸÄ±ÅŸ Yap</h2>
    
    @if (User.Identity.IsAuthenticated)
    {
        <p>YaptÄ±ÄŸÄ±nÄ±z baÄŸÄ±ÅŸlarÄ± gÃ¶rmek iÃ§in <a asp-action="MyDonations">BaÄŸÄ±ÅŸlarÄ±m</a> sayfasÄ±na gidebilirsiniz.</p>
    }
    else
    {
        <p class="mb-4">LÃ¼tfen baÄŸÄ±ÅŸ yapmak iÃ§in giriÅŸ yapÄ±n veya hayvan seÃ§in:</p>
        
        <div class="row">
            @if (Model != null && Model.Any())
            {
                foreach (var animal in Model)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card animal-card h-100">
                            <div class="card-body text-center">
                                @if (!string.IsNullOrEmpty(animal.PhotoPath))
                                {
                                    <img src="~/uploads/@animal.PhotoPath" class="card-img-top" alt="@animal.Name" style="height: 200px; object-fit: cover;" />
                                }
                                else
                                {
                                    <img src="~/images/no-image.png" class="card-img-top" alt="No image" style="height: 200px; object-fit: cover;" />
                                }
                                
                                <h5 class="card-title">@animal.Name</h5>
                                <p class="card-text">
                                    <strong>TÃ¼r:</strong> @animal.Type<br />
                                    <strong>YaÅŸ:</strong> @animal.Age @(animal.Age > 1 ? "ay" : "ay")<br />
                                    <strong>Cinsiyet:</strong> @animal.Gender
                                </p>
                                
                                <a asp-action="MakeDonation" asp-route-animalId="@animal.Id" class="btn btn-warning">ğŸ’° BaÄŸÄ±ÅŸ Yap</a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12">
                    <p class="text-center">GÃ¶sterilecek hayvan bulunmamaktadÄ±r.</p>
                </div>
            }
        </div>
    }
</div>